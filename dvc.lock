schema: '2.0'
stages:
  preprocess:
    cmd: python src/preprocess.py
    deps:
    - path: data/raw/a1_RestaurantReviews_HistoricDump.tsv
      hash: md5
      md5: 102f1f4193e0bdebdd6cce7f13e0a839
      size: 54686
      isexec: true
    - path: src/preprocess.py
      hash: md5
      md5: 37543de18d9190e9202e46c469610e3a
      size: 1629
      isexec: true
    outs:
    - path: artifacts/c1_BoW_Sentiment_Model_local.pkl
      hash: md5
      md5: 2434a22bc6febe903214f1dce7a491b4
      size: 39832
      isexec: true
    - path: artifacts/preprocessed_data_local.pkl
      hash: md5
      md5: 25f6d837d7e6aaa648158a5d45175521
      size: 10231517
      isexec: true
  train:
    cmd: python src/train.py
    deps:
    - path: artifacts/preprocessed_data_local.pkl
      hash: md5
      md5: 25f6d837d7e6aaa648158a5d45175521
      size: 10231517
      isexec: true
    - path: params.yaml
      hash: md5
      md5: 0a70c2543be35970f94bef05b70e4165
      size: 124
      isexec: true
    - path: src/train.py
      hash: md5
      md5: 50b7cc3d5dba09794ad6a8bb85292c59
      size: 2280
      isexec: true
    params:
      params.yaml:
        train.cross_validation: 5
        train.grid_search.max_depth:
        - 
        - 10
        - 20
        train.grid_search.n_estimators:
        - 50
        - 100
        - 200
        train.random_state: 0
    outs:
    - path: artifacts/trained_model_local.pkl
      hash: md5
      md5: 5078f7dfb3340a0b1c07939e049073f1
      size: 8263600
      isexec: true
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: artifacts/preprocessed_data_local.pkl
      hash: md5
      md5: 25f6d837d7e6aaa648158a5d45175521
      size: 10231517
      isexec: true
    - path: artifacts/trained_model_local.pkl
      hash: md5
      md5: 5078f7dfb3340a0b1c07939e049073f1
      size: 8263600
      isexec: true
    - path: src/evaluate.py
      hash: md5
      md5: dc06654a9b1c85a7148c9516a2d60cf3
      size: 2552
      isexec: true
    outs:
    - path: artifacts/metrics_local.json
      hash: md5
      md5: 8ec61caac184b9d8348380d828b81171
      size: 1006
      isexec: true
    - path: artifacts/sentiment_model_local.pkl
      hash: md5
      md5: 4f12d49961bc98c6ed042e4ca4cea222
      size: 8263644
      isexec: true
